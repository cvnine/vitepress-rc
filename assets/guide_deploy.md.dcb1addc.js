var e=Object.defineProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(a,n,t)=>n in a?e(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t;import{N as i}from"./vendor.b2a3f479.js";function o(e){var o=e,{components:p}=o,l=((e,r)=>{var i={};for(var o in e)n.call(e,o)&&r.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&a)for(var o of a(e))r.indexOf(o)<0&&t.call(e,o)&&(i[o]=e[o]);return i})(o,["components"]);return i("wrapper",((e,i)=>{for(var o in i||(i={}))n.call(i,o)&&r(e,o,i[o]);if(a)for(var o of a(i))t.call(i,o)&&r(e,o,i[o]);return e})({components:p},l),i("div",{className:"markdown"},i("h1",{id:"deploying",parentName:"div"},i("a",{href:"#deploying","aria-hidden":"true",className:"header-anchor-a",parentName:"h1"}),"Deploying"),i("p",{parentName:"div"},"The following guides are based on some shared assumptions:"),i("ul",{parentName:"div"},i("li",{parentName:"ul"},"You are placing your docs inside the ",i("inlineCode",{parentName:"li"},"docs")," directory of your project;"),i("li",{parentName:"ul"},"You are using the default build output location (",i("inlineCode",{parentName:"li"},".vitepress/dist"),");"),i("li",{parentName:"ul"},"VitePress is installed as a local dependency in your project, and you have setup the following npm scripts:")),i("pre",{parentName:"div"},i("code",{className:"language-json",parentName:"pre"},'{\n  "scripts": {\n    "docs:build": "vitepress build docs",\n    "docs:serve": "vitepress serve docs"\n  }\n}\n')),i("h2",{id:"building-the-docs",parentName:"div"},i("a",{href:"#building-the-docs","aria-hidden":"true",className:"header-anchor-a",parentName:"h2"}),"Building The Docs"),i("p",{parentName:"div"},"You may run ",i("inlineCode",{parentName:"p"},"yarn docs:build")," command to build the docs."),i("pre",{parentName:"div"},i("code",{className:"language-bash",parentName:"pre"},"$ yarn docs:build\n")),i("p",{parentName:"div"},"By default, the build output will be placed at ",i("inlineCode",{parentName:"p"},".vitepress/dist"),". You may deploy this ",i("inlineCode",{parentName:"p"},"dist")," folder to any of your preferred platforms."),i("h3",{id:"testing-the-docs-locally",parentName:"div"},i("a",{href:"#testing-the-docs-locally","aria-hidden":"true",className:"header-anchor-a",parentName:"h3"}),"Testing The Docs Locally"),i("p",{parentName:"div"},"Once you've built the docs, you may test them locally by running ",i("inlineCode",{parentName:"p"},"yarn docs:serve")," command."),i("pre",{parentName:"div"},i("code",{className:"language-bash",parentName:"pre"},"$ yarn docs:build\n$ yarn docs:serve\n")),i("p",{parentName:"div"},"The ",i("inlineCode",{parentName:"p"},"serve")," command will boot up local static web server that serves the files from ",i("inlineCode",{parentName:"p"},".vitepress/dist")," at ",i("a",{href:"http://localhost:5000",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"http://localhost:5000"),". It's an easy way to check if the production build looks OK in your local environment."),i("p",{parentName:"div"},"You may configure the port of the server py passing ",i("inlineCode",{parentName:"p"},"--port")," flag as an argument."),i("pre",{parentName:"div"},i("code",{className:"language-json",parentName:"pre"},'{\n  "scripts": {\n    "docs:serve": "vitepress serve docs --port 8080"\n  }\n}\n')),i("p",{parentName:"div"},"Now the ",i("inlineCode",{parentName:"p"},"docs:serve")," method will launch the server at ",i("a",{href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"http://localhost:8080"),"."),i("h2",{id:"github-pages",parentName:"div"},i("a",{href:"#github-pages","aria-hidden":"true",className:"header-anchor-a",parentName:"h2"}),"GitHub Pages"),i("ol",{parentName:"div"},i("li",{parentName:"ol"},i("p",{parentName:"li"},"Set the correct ",i("inlineCode",{parentName:"p"},"base")," in ",i("inlineCode",{parentName:"p"},"docs/.vitepress/config.js"),"."),i("p",{parentName:"li"},"If you are deploying to ",i("inlineCode",{parentName:"p"},"https://<USERNAME>.github.io/"),", you can omit ",i("inlineCode",{parentName:"p"},"base")," as it defaults to ",i("inlineCode",{parentName:"p"},"'/'"),"."),i("p",{parentName:"li"},"If you are deploying to ",i("inlineCode",{parentName:"p"},"https://<USERNAME>.github.io/<REPO>/"),", for example your repository is at ",i("inlineCode",{parentName:"p"},"https://github.com/<USERNAME>/<REPO>"),", then set ",i("inlineCode",{parentName:"p"},"base")," to ",i("inlineCode",{parentName:"p"},"'/<REPO>/'"),".")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Inside your project, create ",i("inlineCode",{parentName:"p"},"deploy.sh")," with the following content (with highlighted lines uncommented appropriately), and run it to deploy:"))),i("pre",{parentName:"div"},i("code",{className:"language-bash{13,20,23}",parentName:"pre"},"#!/usr/bin/env sh\n\n# abort on errors\nset -e\n\n# build\nnpm run docs:build\n\n# navigate into the build output directory\ncd docs/.vitepress/dist\n\n# if you are deploying to a custom domain\n# echo 'www.example.com' > CNAME\n\ngit init\ngit add -A\ngit commit -m 'deploy'\n\n# if you are deploying to https://<USERNAME>.github.io\n# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master\n\n# if you are deploying to https://<USERNAME>.github.io/<REPO>\n# git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages\n\ncd -\n")),i("div",{className:"remark-container remark-container-tip",parentName:"div"},i("div",{className:"remark-container-title",parentName:"div"},"TIP"),i("div",{className:"remark-container-content",parentName:"div"},"You can also run the above script in your CI setup to enable automatic deployment on each push.")),i("h3",{id:"github-pages-and-travis-ci",parentName:"div"},i("a",{href:"#github-pages-and-travis-ci","aria-hidden":"true",className:"header-anchor-a",parentName:"h3"}),"GitHub Pages and Travis CI"),i("ol",{parentName:"div"},i("li",{parentName:"ol"},i("p",{parentName:"li"},"Set the correct ",i("inlineCode",{parentName:"p"},"base")," in ",i("inlineCode",{parentName:"p"},"docs/.vitepress/config.js"),"."),i("p",{parentName:"li"},"If you are deploying to ",i("inlineCode",{parentName:"p"},"https://<USERNAME or GROUP>.github.io/"),", you can omit ",i("inlineCode",{parentName:"p"},"base")," as it defaults to ",i("inlineCode",{parentName:"p"},"'/'"),"."),i("p",{parentName:"li"},"If you are deploying to ",i("inlineCode",{parentName:"p"},"https://<USERNAME or GROUP>.github.io/<REPO>/"),", for example your repository is at ",i("inlineCode",{parentName:"p"},"https://github.com/<USERNAME>/<REPO>"),", then set ",i("inlineCode",{parentName:"p"},"base")," to ",i("inlineCode",{parentName:"p"},"'/<REPO>/'"),".")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Create a file named ",i("inlineCode",{parentName:"p"},".travis.yml")," in the root of your project.")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Run ",i("inlineCode",{parentName:"p"},"yarn")," or ",i("inlineCode",{parentName:"p"},"npm install")," locally and commit the generated lockfile (that is ",i("inlineCode",{parentName:"p"},"yarn.lock")," or ",i("inlineCode",{parentName:"p"},"package-lock.json"),").")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Use the GitHub Pages deploy provider template, and follow the ",i("a",{href:"https://docs.travis-ci.com/user/deployment/pages/",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"Travis CI documentation"),"."))),i("pre",{parentName:"div"},i("code",{className:"language-yaml",parentName:"pre"},"language: node_js\nnode_js:\n  - lts/*\ninstall:\n  - yarn install # npm ci\nscript:\n  - yarn docs:build # npm run docs:build\ndeploy:\n  provider: pages\n  skip_cleanup: true\n  local_dir: docs/.vitepress/dist\n  # A token generated on GitHub allowing Travis to push code on you repository.\n  # Set in the Travis settings page of your repository, as a secure variable.\n  github_token: $GITHUB_TOKEN\n  keep_history: true\n  on:\n    branch: master\n")),i("h2",{id:"gitlab-pages-and-gitlab-ci",parentName:"div"},i("a",{href:"#gitlab-pages-and-gitlab-ci","aria-hidden":"true",className:"header-anchor-a",parentName:"h2"}),"GitLab Pages and GitLab CI"),i("ol",{parentName:"div"},i("li",{parentName:"ol"},i("p",{parentName:"li"},"Set the correct ",i("inlineCode",{parentName:"p"},"base")," in ",i("inlineCode",{parentName:"p"},"docs/.vitepress/config.js"),"."),i("p",{parentName:"li"},"If you are deploying to ",i("inlineCode",{parentName:"p"},"https://<USERNAME or GROUP>.gitlab.io/"),", you can omit ",i("inlineCode",{parentName:"p"},"base")," as it defaults to ",i("inlineCode",{parentName:"p"},"'/'"),"."),i("p",{parentName:"li"},"If you are deploying to ",i("inlineCode",{parentName:"p"},"https://<USERNAME or GROUP>.gitlab.io/<REPO>/"),", for example your repository is at ",i("inlineCode",{parentName:"p"},"https://gitlab.com/<USERNAME>/<REPO>"),", then set ",i("inlineCode",{parentName:"p"},"base")," to ",i("inlineCode",{parentName:"p"},"'/<REPO>/'"),".")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Set ",i("inlineCode",{parentName:"p"},"dest")," in ",i("inlineCode",{parentName:"p"},".vitepress/config.js")," to ",i("inlineCode",{parentName:"p"},"public"),".")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Create a file called ",i("inlineCode",{parentName:"p"},".gitlab-ci.yml")," in the root of your project with the content below. This will build and deploy your site whenever you make changes to your content:"))),i("pre",{parentName:"div"},i("code",{className:"language-yaml",parentName:"pre"},"image: node:10.22.0\npages:\n  cache:\n    paths:\n      - node_modules/\n  script:\n    - yarn install # npm install\n    - yarn docs:build # npm run docs:build\n  artifacts:\n    paths:\n      - public\n  only:\n    - master\n")),i("h2",{id:"netlify",parentName:"div"},i("a",{href:"#netlify","aria-hidden":"true",className:"header-anchor-a",parentName:"h2"}),"Netlify"),i("ol",{parentName:"div"},i("li",{parentName:"ol"},"On ",i("a",{href:"https://netlify.com",target:"_blank",rel:"noopener noreferrer",parentName:"li"},"Netlify"),", setup up a new project from GitHub with the following settings:")),i("ul",{parentName:"div"},i("li",{parentName:"ul"},i("strong",{parentName:"li"},"Build Command:")," ",i("inlineCode",{parentName:"li"},"vitepress build docs")," or ",i("inlineCode",{parentName:"li"},"yarn docs:build")," or ",i("inlineCode",{parentName:"li"},"npm run docs:build")),i("li",{parentName:"ul"},i("strong",{parentName:"li"},"Publish directory:")," ",i("inlineCode",{parentName:"li"},"docs/.vitepress/dist"))),i("ol",{start:"2",parentName:"div"},i("li",{parentName:"ol"},"Hit the deploy button.")),i("h2",{id:"google-firebase",parentName:"div"},i("a",{href:"#google-firebase","aria-hidden":"true",className:"header-anchor-a",parentName:"h2"}),"Google Firebase"),i("ol",{parentName:"div"},i("li",{parentName:"ol"},i("p",{parentName:"li"},"Make sure you have ",i("a",{href:"https://www.npmjs.com/package/firebase-tools",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"firebase-tools")," installed.")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Create ",i("inlineCode",{parentName:"p"},"firebase.json")," and ",i("inlineCode",{parentName:"p"},".firebaserc")," at the root of your project with the following content:"))),i("p",{parentName:"div"},i("inlineCode",{parentName:"p"},"firebase.json"),":"),i("pre",{parentName:"div"},i("code",{className:"language-json",parentName:"pre"},'{\n  "hosting": {\n    "public": "./docs/.vitepress/dist",\n    "ignore": []\n  }\n}\n')),i("p",{parentName:"div"},i("inlineCode",{parentName:"p"},".firebaserc"),":"),i("pre",{parentName:"div"},i("code",{className:"language-js",parentName:"pre"},'{\n "projects": {\n   "default": "<YOUR_FIREBASE_ID>"\n }\n}\n')),i("ol",{start:"3",parentName:"div"},i("li",{parentName:"ol"},"After running ",i("inlineCode",{parentName:"li"},"yarn docs:build")," or ",i("inlineCode",{parentName:"li"},"npm run docs:build"),", deploy using the command ",i("inlineCode",{parentName:"li"},"firebase deploy"),".")),i("h2",{id:"surge",parentName:"div"},i("a",{href:"#surge","aria-hidden":"true",className:"header-anchor-a",parentName:"h2"}),"Surge"),i("ol",{parentName:"div"},i("li",{parentName:"ol"},i("p",{parentName:"li"},"First install ",i("a",{href:"https://www.npmjs.com/package/surge",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"surge"),", if you haven’t already.")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Run ",i("inlineCode",{parentName:"p"},"yarn docs:build")," or ",i("inlineCode",{parentName:"p"},"npm run docs:build"),".")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Deploy to surge by typing ",i("inlineCode",{parentName:"p"},"surge docs/.vitepress/dist"),"."))),i("p",{parentName:"div"},"You can also deploy to a ",i("a",{href:"http://surge.sh/help/adding-a-custom-domain",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"custom domain")," by adding ",i("inlineCode",{parentName:"p"},"surge docs/.vitepress/dist yourdomain.com"),"."),i("h2",{id:"heroku",parentName:"div"},i("a",{href:"#heroku","aria-hidden":"true",className:"header-anchor-a",parentName:"h2"}),"Heroku"),i("ol",{parentName:"div"},i("li",{parentName:"ol"},i("p",{parentName:"li"},"Install ",i("a",{href:"https://devcenter.heroku.com/articles/heroku-cli",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"Heroku CLI"),".")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Create a Heroku account by ",i("a",{href:"https://signup.heroku.com",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"signing up"),".")),i("li",{parentName:"ol"},i("p",{parentName:"li"},"Run ",i("inlineCode",{parentName:"p"},"heroku login")," and fill in your Heroku credentials:"))),i("pre",{parentName:"div"},i("code",{className:"language-bash",parentName:"pre"},"$ heroku login\n")),i("ol",{start:"4",parentName:"div"},i("li",{parentName:"ol"},"Create a file called ",i("inlineCode",{parentName:"li"},"static.json")," in the root of your project with the below content:")),i("p",{parentName:"div"},i("inlineCode",{parentName:"p"},"static.json"),":"),i("pre",{parentName:"div"},i("code",{className:"language-json",parentName:"pre"},'{\n  "root": "./docs/.vitepress/dist"\n}\n')),i("p",{parentName:"div"},"This is the configuration of your site; read more at ",i("a",{href:"https://github.com/heroku/heroku-buildpack-static",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"heroku-buildpack-static"),"."),i("ol",{start:"5",parentName:"div"},i("li",{parentName:"ol"},"Set up your Heroku git remote:")),i("pre",{parentName:"div"},i("code",{className:"language-bash",parentName:"pre"},'# version change\n$ git init\n$ git add .\n$ git commit -m "My site ready for deployment."\n\n# creates a new app with a specified name\n$ heroku apps:create example\n\n# set buildpack for static sites\n$ heroku buildpacks:set https://github.com/heroku/heroku-buildpack-static.git\n')),i("ol",{start:"6",parentName:"div"},i("li",{parentName:"ol"},"Deploy your site:")),i("pre",{parentName:"div"},i("code",{className:"language-bash",parentName:"pre"},"# publish site\n$ git push heroku master\n\n# opens a browser to view the Dashboard version of Heroku CI\n$ heroku open\n")),i("h2",{id:"vercel",parentName:"div"},i("a",{href:"#vercel","aria-hidden":"true",className:"header-anchor-a",parentName:"h2"}),"Vercel"),i("p",{parentName:"div"},"To deploy your VitePress app with a ",i("a",{href:"https://vercel.com/docs/git",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"Vercel for Git"),", make sure it has been pushed to a Git repository."),i("p",{parentName:"div"},"Go to ",i("a",{href:"https://vercel.com/import/git",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"https://vercel.com/import/git")," and import the project into Vercel using your Git of choice (GitHub, GitLab or BitBucket). Follow the wizard to select the project root with the project's ",i("inlineCode",{parentName:"p"},"package.json")," and override the build step using ",i("inlineCode",{parentName:"p"},"yarn docs:build")," or ",i("inlineCode",{parentName:"p"},"npm run docs:build")," and the output dir to be ",i("inlineCode",{parentName:"p"},"./docs/.vitepress/dist")),i("p",{parentName:"div"},i("img",{src:"../images/vercel-configuration.png",alt:"Override Vercel Configuration",parentName:"p"})),i("p",{parentName:"div"},'After your project has been imported, all subsequent pushes to branches will generate Preview Deployments, and all changes made to the Production Branch (commonly "main") will result in a Production Deployment.'),i("p",{parentName:"div"},"Once deployed, you will get a URL to see your app live, such as the following: ",i("a",{href:"https://vitepress.vercel.app",target:"_blank",rel:"noopener noreferrer",parentName:"p"},"https://vitepress.vercel.app"))))}o.isMDXComponent=!0;const p='{"title":"Deploying","description":"","relativePath":"guide/deploy.md","headers":[{"level":1,"title":"Deploying","slug":"deploying"},{"level":2,"title":"Building The Docs","slug":"building-the-docs"},{"level":3,"title":"Testing The Docs Locally","slug":"testing-the-docs-locally"},{"level":2,"title":"GitHub Pages","slug":"github-pages"},{"level":3,"title":"GitHub Pages and Travis CI","slug":"github-pages-and-travis-ci"},{"level":2,"title":"GitLab Pages and GitLab CI","slug":"gitlab-pages-and-gitlab-ci"},{"level":2,"title":"Netlify","slug":"netlify"},{"level":2,"title":"Google Firebase","slug":"google-firebase"},{"level":2,"title":"Surge","slug":"surge"},{"level":2,"title":"Heroku","slug":"heroku"},{"level":2,"title":"Vercel","slug":"vercel"}],"frontmatter":{},"lastUpdated":1642337994019}';export default o;export{p as __pageData};
